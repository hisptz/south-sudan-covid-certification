<div class="container">
  <div class="row mx-0 w-100 d-print-none">
    <div class="col-sm d-flex justify-content-start">
      <label
        class="font-weight-600 cursor-pointer mb-0 w-100 font-x-large"
        [routerLink]="'/'"
      >
        <!-- Back Arrow navigation  -->
        <a
          class="navbar-brand color-black cursor-pointer mr-0"
          matTooltip="Go Back"
        >
          <i class="icon ion-md-arrow-back mt-4 color-black font-x-large"></i>
        </a>
        <!-- Back Arrow navigation  -->
        Back
      </label>
    </div>
    <div class="col-sm py-2 d-flex justify-content-end">
      <button
      [disabled] = "!(currentEvent$ | async)[columnDefn.ENROLLMENT_ID]"
        mat-stroked-button
        class="color-black btn-border-color-grey"
        matTooltip="Print Certificate"
        (click)="printCertificate()"
      >
        <mat-icon class="font-21px color-black">print</mat-icon> Print
        Certificate
      </button>
    </div>
  </div>
  <!-- Progressive Loader -->
  <mat-progress-bar
    mode="indeterminate"
    class="ml-2 mt-4"
    *ngIf="!(currentEvent$ | async)[columnDefn.ENROLLMENT_ID]"
  ></mat-progress-bar>
  <!-- End of Progressive Loader -->
  <!-- Certificate Section  -->
  <div
    class="row mx-0 w-100 mt-4"
    id="certificatepage"
    *ngIf="(currentEvent$ | async)[columnDefn.ENROLLMENT_ID] "
  >
    <!-- certificate header -->
    <div class="row w-100 mx-0">
      <div class="col-sm-3">
        <img src="./assets/img/sudan-moh.png" class="img-fluid" alt="" />
      </div>
      <div class="col-sm-9">
        <label class="h3 font-weight-bold w-100">Republic of South Sudan</label>
        <label class="h5 font-weight-bold w-100"
          >Ministry of Health, National Public Health Laboratory</label
        >
        <!-- <label class="h5 font-weight-bold w-100"></label> -->
        <label class="w-100"
          >Juba- Addis Ababa Road near Mobil roundabout</label
        >
        <label class="w-100">Email: nphlsscovid19results@gmail.com</label>
        <label class="w-100">Tell: 0929310671</label>
      </div>
    </div>
    <!-- certificate header -->
    <div class="row w-100 mx-0 mt-4">
      <label class="h5 font-weight-bold w-100">
        COVID-19 (SARS-COV-2) Individual Lab Test Results Report Form
      </label>
      <table class="table table-sm">
        <thead class="gerybg-color">
          <tr>
            <th>Clientâ€™s Identification Details</th>
            <th>Testing Lab Information</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              Full name: {{ (currentEvent$ | async)[columnDefn.FIRST_NAME] }}
              {{ (currentEvent$ | async)[columnDefn.LAST_NAME] }} <br />
              Sex: {{ (currentEvent$ | async)[columnDefn.SEX] }}<br />
              Age: {{ (currentEvent$ | async)[columnDefn.AGE] }} <br />
              Nationality: {{ (currentEvent$ | async)[columnDefn.NATIONALITY] }} <br />
              Passport # / NIN: <br />
            </td>
            <td>
              Laboratory Name: {{ (currentEvent$ | async)[columnDefn.ORGUNIT_NAME] }}<br />
              State: {{(currentEvent$ |async)?.state}}<br />
              County: {{(currentEvent$ |async)?.county}}<br />
              Testing Platform: {{ (currentEvent$ | async)[columnDefn.TEST_PLATFORM] }}<br />
            </td>
          </tr>
        </tbody>
        <thead class="gerybg-color">
          <tr>
            <th colspan="2">Specimen Information Details</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              Lab Specimen ID: {{ (currentEvent$ | async)[columnDefn.SPECIMEN_ID]}}<br />
              Specimen Type: {{ (currentEvent$ | async)[columnDefn.SPECIMEN_TYPE] }}<br />
              Specimen Quality: {{ (currentEvent$ | async)[columnDefn.SPECIMEN_CONDITION] }}<br />
            </td>
            <td>
              Date Specimen Collected:
              {{ (currentEvent$ | async)[columnDefn.DATE_SPECIMEN_COLLECTED] | date }}<br />
              Date Specimen Received:
              {{ (currentEvent$ | async)[columnDefn.DATE_SPECIMEN_RECEIVED] | date }}<br />
              Date Specimen Tested:
              {{ (currentEvent$ | async)?.investigationStartDate | date }}
              <br />
            </td>
          </tr>
        </tbody>
        <thead class="gerybg-color">
          <tr>
            <th colspan="2">COVID-19 (SARS-COV-2) TEST RESULTS</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              Test Method:  {{ (currentEvent$ | async)[columnDefn.TEST_METHOD] }}<br />
              <br />
              Test Result: {{ (currentEvent$ | async)[columnDefn.LAB_TEST_RESULT] }} <br />
              <br />
              Date Results released:
              {{ (currentEvent$ | async)[columnDefn.DATE_RESULT_RELEASED] | date}}<br />
            </td>
          </tr>
        </tbody>
        <thead class="gerybg-color">
          <tr>
            <th colspan="2">All Controls have passed</th>
            <th></th>
          </tr>
        </thead>
      </table>

      <table class="table table-bordered table-sm mt-4">
        <thead class="gerybg-color">
          <tr>
            <th>Results Approved By</th>
            <th>Print Name</th>
            <th>Signature</th>
            <th>Date & Time</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Laboratory Manager</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>Laboratory Quality Manager</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>Laboratory Supervisor</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="bottom-text">
      <p>Generated by South Sudan HMIS on {{ todayDate | date }}</p>
    </div>
  </div>
  <!-- End of Certificate Section  -->
</div>
